@model IEnumerable<CommerceProject.Models.Fundraisers>


@using Microsoft.AspNetCore.Identity
@using CommerceProject.Areas.Identity.Data

@inject SignInManager<CommerceProjectUser> SignInManager
@inject UserManager<CommerceProjectUser> UserManager

@{

    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">




    <h4>Fundraiser</h4>
    <p>Displaying @Model.Count() Fundraisers    </p>

    <a href="/StartFundraising/Create" value="Create" class="btn btn-success float-right">Create</a>




    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Title)
                </th>
                  <th>
                    @Html.DisplayNameFor(model => model.Description)
                </th>
            <th>
                @Html.DisplayNameFor(model => model.Amount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Goals)
            </th>
            <th style="width: 160px;">
                @Html.Raw("Image")
            </th>

        </thead>
        <tbody>

            @foreach (var item in Model)
            {
                <tr>

                    <td>
                        @Html.DisplayFor(modelItem => item.Title)
                    </td>
                      <td>
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Amount)
                </td>
                <td>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: @item.Goals%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">@item.Goals%</div>
                    </div>

                  @*  <div class="w3-light-grey">
                        <div class="w3-container w3-green w3-center" style="width:@item.Goals%">@item.Goals%</div>
                    </div>*@
                      
                  
                   @* @Html.DisplayFor(modelItem => item.Goals)*@
                </td>
                      <td>
               <img class="img-product" width="50px;" src="@item.Imagelink" />
            </td>
                    <td>

                        <a asp-action="Edit" class="btn btn-success" asp-route-id="@item.FundraiserID">Edit</a>

                    </td>
                <td>
                   
                        <a asp-action="Index" asp-controller="Donation" class="btn btn-success" asp-route-id="@item.FundraiserID">Donate</a>
                   
                </td>
                    <td>
                    @if (SignInManager.IsSignedIn(User))
                    {

                        <a asp-action="Delete" class="btn btn-danger" asp-route-id="@item.FundraiserID">Delete</a>
                    }
                    </td>
                </tr>
            }
        </tbody>
    </table>





